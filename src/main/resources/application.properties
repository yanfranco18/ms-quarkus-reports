quarkus.http.port=8083
quarkus.application.name=reports-service
# Configures the URL for the named "account-service" REST client
quarkus.rest-client."account-service".url=http://localhost:8081
# Configura la URL para el cliente REST del "transactionsService"
quarkus.rest-client."transactionsService".url=http://localhost:8082
quarkus.smallrye-openapi.path=/openapi
quarkus.swagger-ui.path=/swagger-ui
quarkus.http.redirect-to-dev-ui=true

# ====================================================================
# CONFIGURACIÓN DE RETRY PARA CLIENTES REST
# Se usa 'client.' para diferenciar de los servicios internos.
# ====================================================================

# Número de reintentos
reports-service.retry.max-retries=3
# Intervalo de espera entre reintentos (300ms)
reports-service.retry.delay.ms=300
# Lista de excepciones que deben disparar el reintento (ej. I/O o conexión)
reports-service.retry.retry-on-exceptions=java.io.IOException, jakarta.ws.rs.ProcessingException, java.net.ConnectException

# ====================================================================
# A. AccountServiceRestClient
# ====================================================================

# 1. getBalances
com.bancario.reports.client.AccountServiceRestClient/getBalances/Retry/maxRetries=${reports-service.retry.max-retries}
com.bancario.reports.client.AccountServiceRestClient/getBalances/Retry/delay=${reports-service.retry.delay.ms}
com.bancario.reports.client.AccountServiceRestClient/getBalances/Retry/retryOn=${reports-service.retry.retry-on-exceptions}

# 2. getDailyBalancesByCustomer (Analítica Pesada)
com.bancario.reports.client.AccountServiceRestClient/getDailyBalancesByCustomer/Retry/maxRetries=${reports-service.retry.max-retries}
com.bancario.reports.client.AccountServiceRestClient/getDailyBalancesByCustomer/Retry/delay=${reports-service.retry.delay.ms}
com.bancario.reports.client.AccountServiceRestClient/getDailyBalancesByCustomer/Retry/retryOn=${reports-service.retry.retry-on-exceptions}

# ====================================================================
# B. TransactionServiceRestClient
# ====================================================================

# 1. getTransactions
com.bancario.reports.client.TransactionServiceRestClient/getTransactions/Retry/maxRetries=${reports-service.retry.max-retries}
com.bancario.reports.client.TransactionServiceRestClient/getTransactions/Retry/delay=${reports-service.retry.delay.ms}
com.bancario.reports.client.TransactionServiceRestClient/getTransactions/Retry/retryOn=${reports-service.retry.retry-on-exceptions}

# 2. getCommissionsData
com.bancario.reports.client.TransactionServiceRestClient/getCommissionsData/Retry/maxRetries=${reports-service.retry.max-retries}
com.bancario.reports.client.TransactionServiceRestClient/getCommissionsData/Retry/delay=${reports-service.retry.delay.ms}
com.bancario.reports.client.TransactionServiceRestClient/getCommissionsData/Retry/retryOn=${reports-service.retry.retry-on-exceptions}